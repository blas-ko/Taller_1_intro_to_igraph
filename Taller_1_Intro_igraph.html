<!DOCTYPE html>
<html lang="en"><head>
<script src="Taller_1_Intro_igraph_files/libs/clipboard/clipboard.min.js"></script>
<script src="Taller_1_Intro_igraph_files/libs/quarto-html/tabby.min.js"></script>
<script src="Taller_1_Intro_igraph_files/libs/quarto-html/popper.min.js"></script>
<script src="Taller_1_Intro_igraph_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Taller_1_Intro_igraph_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Taller_1_Intro_igraph_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Taller_1_Intro_igraph_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Taller_1_Intro_igraph_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <meta name="author" content="Blas Kolic &amp; Esteban Moro">
  <title>Social Network Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Taller_1_Intro_igraph_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Taller_1_Intro_igraph_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Taller_1_Intro_igraph_files/libs/revealjs/dist/theme/quarto.css">
  <link href="Taller_1_Intro_igraph_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Taller_1_Intro_igraph_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="Taller_1_Intro_igraph_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/pymjs-1.3.2/pym.v1.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/widgetframe-binding-0.3.1/widgetframe.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="img/background1.png" data-background-opacity="0.3" data-background-size="contain" class="quarto-title-block center">
  <h1 class="title">Social Network Analysis</h1>
  <p class="subtitle">Workshop 1. Intro to network analysis in R</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Blas Kolic &amp; Esteban Moro 
</div>
        <p class="quarto-title-affiliation">
            IBiDat uc3m-Santander | IMDEA Networks
          </p>
        <p class="quarto-title-affiliation">
            Master in Computational Social Science
          </p>
        <p class="quarto-title-affiliation">
            Last updated 2024-04-02
          </p>
    </div>
</div>

</section>
<section id="objective" class="slide level2">
<h2>Objective</h2>
<p>The objective of this workshop is to give a small introduction to the <code>igraph</code> analysis library in <code>R</code> for graphs. We will learn:</p>
<ul>
<li>The basic concepts of graph analysis using <code>igraph</code></li>
<li>To visualize graphs using the libraries <code>igraph</code>, <code>ggraph</code> and <code>visNetwork</code></li>
<li>To export graphs and visualize them using <code>gephi</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="htmlwidget-d29a080ab81426eeec78" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-d29a080ab81426eeec78">{"x":{"url":"Taller_1_Intro_igraph_files/figure-revealjs//widgets/widget_unnamed-chunk-2.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="network-analysis-in-r" class="slide level2">
<h2>Network Analysis in R</h2>
<p>In <code>R</code> there are many options to study graphs. We will use the <code>igraph</code> library <a href="http://igraph.org" class="uri">http://igraph.org</a>/</p>
<ul>
<li>Is an <strong>open-sourced</strong> package to build, manipulate and study graphs.</li>
<li>Implements the <strong>newest and most efficient algorithms</strong>.</li>
<li>Supports <strong>different graph formats</strong>.</li>
<li>Implemented in <code>C</code>, <code>python</code> and of course <code>R</code></li>
<li>Has many options to <strong>visualize graphs</strong>.</li>
</ul>
<p>We will also use the <code>ggraph</code> package to visualize graphs using the <code>ggplot</code> grammar and the <code>visNetwork</code> package which allows interactive visualization of graphs <a href="https://datastorm-open.github.io/visNetwork" class="uri">https://datastorm-open.github.io/visNetwork</a></p>
<ul>
<li>It is based on the <code>vis.js</code> library</li>
<li>Based on <code>htmlwidgets</code></li>
<li>Works in <strong>RStudio</strong> and many browsers</li>
</ul>
</section>
<section id="introduction-to-igraph-the-graph-object" class="slide level2">
<h2>Introduction to igraph: the graph object</h2>
<p>The basic object in <code>igraph</code> is the <code>graph</code> object</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-3_16993427e157de4b4a2c2bd81aceac23">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(igraph)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph</span>( <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">2</span>,<span class="dv">3</span>, <span class="dv">3</span>,<span class="dv">4</span>, <span class="dv">3</span>,<span class="dv">5</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>g</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="do">## IGRAPH 90bd37b D--- 5 4 -- </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="do">## + edges from 90bd37b:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1-&gt;2 2-&gt;3 3-&gt;4 3-&gt;5</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(g)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "igraph"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">is_igraph</span>(g)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When defined, graphs can be directed or not. igraph cannot handle mixed graphs</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-4_e4833b7b78a33600472cd51ef218b08f">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph</span>( <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>, <span class="dv">2</span>,<span class="dv">3</span>, <span class="dv">3</span>,<span class="dv">4</span>, <span class="dv">3</span>,<span class="dv">5</span>),<span class="at">directed=</span>F)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>g</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="do">## IGRAPH f375025 U--- 5 4 -- </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="do">## + edges from f375025:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1--2 2--3 3--4 3--5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="introduction-to-igraph-the-graph-object-1" class="slide level2">
<h2>Introduction to igraph: the graph object</h2>
<p>Basically, the graph object is a wrapper for the nodes and edges data frames.</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-5_cdc9c235d3679522ee9fd450c21148a3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g) <span class="co"># edge table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 4/4 edges from f375025:
[1] 1--2 2--3 3--4 3--5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g) <span class="co"># node table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 5/5 vertices, from f375025:
[1] 1 2 3 4 5</code></pre>
</div>
</div>
<p>Each of these sets/tables can have different attributes</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-6_2d852446f3ec4275688f30af8d9b9136">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>weight <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.2</span>,<span class="fl">0.5</span>) <span class="co">#the `weight` attribute is a reserved one</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"juan"</span>,<span class="st">"lola"</span>,<span class="st">"pepe"</span>,<span class="st">"saul"</span>,<span class="st">"ana"</span>) <span class="co">#the `name` attribute is a reserved one</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"blue"</span>,<span class="st">"blue"</span>,<span class="st">"red"</span>,<span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>By giving weights to the edges, the graph becomes <em>weighted</em></p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-7_b513dfb6f18ff816ff8709fb67b92bb8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH f375025 UNW- 5 4 -- 
+ attr: name (v/c), color (v/c), weight (e/n)
+ edges from f375025 (vertex names):
[1] juan--lola lola--pepe pepe--saul pepe--ana </code></pre>
</div>
</div>
</section>
<section id="building-a-graph-from-data" class="slide level2">
<h2>Building a graph from data</h2>
<ul>
<li>From <code>data.frames</code></li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-8_dd8d5c281a9bd7df92277a1d0ca9cc5d">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph.data.frame</span>(edges ,<span class="at">vertices=</span>nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>where <code>edges</code> and <code>nodes</code> are data.frames:</p>
<ul>
<li>First two columns of edges contains the edges names or ids</li>
<li>First column of <code>nodes</code> contains the names of the nodes. They have to coincide with the ones in <code>edges</code></li>
<li>Rest of the columns in <code>edges</code> and <code>nodes</code> are considered attributes of edges and nodes.</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-9_39127ee69a457a0d11c4ccfccc7abf26">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">from=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>),<span class="at">to=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>),<span class="at">peso=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>),<span class="at">nombre=</span><span class="fu">c</span>(<span class="st">"juan"</span>,<span class="st">"clara"</span>,<span class="st">"luis"</span>,<span class="st">"raul"</span>,<span class="st">"alex"</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph.data.frame</span>(edges,<span class="at">vertices=</span>nodes)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH fab6233 DN-- 5 6 -- 
+ attr: name (v/c), nombre (v/c), peso (e/n)
+ edges from fab6233 (vertex names):
[1] 1-&gt;2 1-&gt;3 2-&gt;3 2-&gt;4 3-&gt;2 5-&gt;4</code></pre>
</div>
</div>
</section>
<section id="building-a-graph-from-graph-files-or-packages" class="slide level2">
<h2>Building a graph from graph files or packages</h2>
<p>The <code>read.graph</code> function is able to read graphs in various formats</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-10_f09579b217f982a5941478f3311d8358">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">read.graph</span>(file, <span class="at">format =</span> <span class="fu">c</span>(<span class="st">"edgelist"</span>, <span class="st">"pajek"</span>, <span class="st">"ncol"</span>,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="st">"lgl"</span>,<span class="st">"graphml"</span>, <span class="st">"dimacs"</span>, <span class="st">"graphdb"</span>, <span class="st">"gml"</span>, <span class="st">"dl"</span>), ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also export our graph in different formats</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-11_a255adc9378593677da8907962df8a6a">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.graph</span>(g,<span class="at">format=</span><span class="st">"Pajek"</span>,<span class="at">file=</span><span class="st">"g.net"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally we have some packages with loaded graphs</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-12_ecc4ba1acdfff9b13c16d69162045354">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(<span class="st">"igraphdata"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(enron) <span class="co">#We load the enron emails graph</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>enron</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 64ec693 D--- 184 125409 -- Enron email network
+ attr: LDC_names (g/c), LDC_desc (g/c), name (g/c), Citation (g/c),
| Email (v/c), Name (v/c), Note (v/c), Time (e/c), Reciptype (e/c),
| Topic (e/n), LDC_topic (e/n)
+ edges from 64ec693:
 [1]  25-&gt;154  25-&gt;154  30-&gt; 30  30-&gt; 30  30-&gt; 30  30-&gt; 30  39-&gt; 39  52-&gt; 67
 [9]  52-&gt; 67  52-&gt; 67  52-&gt; 67  61-&gt;100  61-&gt;100  61-&gt;163  61-&gt;163  61-&gt;166
[17]  61-&gt;166  61-&gt;170  64-&gt; 59  64-&gt; 59  64-&gt; 64  64-&gt; 64  64-&gt;147  64-&gt;147
[25]  64-&gt;164  64-&gt;164  64-&gt;168  66-&gt; 66  66-&gt; 66  67-&gt;129  67-&gt;129  67-&gt;129
[33]  67-&gt;129  93-&gt; 10  93-&gt; 10  93-&gt; 10  93-&gt; 10  93-&gt; 39  93-&gt; 39  93-&gt; 93
[41]  93-&gt; 93  93-&gt; 93  93-&gt; 93  93-&gt;124  93-&gt;124 100-&gt; 61 100-&gt; 61 115-&gt;115
+ ... omitted several edges</code></pre>
</div>
</div>
</section>
<section id="exercise-1-the-starwars-network" class="slide level2">
<h2>Exercise 1: The Starwars network</h2>
<p>Generate the StarWars characters’ graph using the interactions between characters. The data can be downloaded from: <a href="http://evelinag.com/blog/2015/12-15-star-wars-social-network/index.html#how" class="uri">http://evelinag.com/blog/2015/12-15-star-wars-social-network/index.html#how</a> or <a href="https://github.com/evelinag/StarWars-social-network" class="uri">https://github.com/evelinag/StarWars-social-network</a></p>
<p>Use</p>
<ul>
<li><p>The file <code>/networks/starwars-full-interactions-allCharacters-merged.json</code> in that github</p>
<center>
<p><img src="img/json.png" width="600px"></p>
</center></li>
<li><p>The <code>jsonlite</code> package in R to import the interactions file and create the tables <code>nodos</code> y <code>enlaces</code></p></li>
<li><p>Generate the graph</p></li>
</ul>
</section>
<section id="exercise-1-the-starwars-network-1" class="slide level2">
<h2>Exercise 1: The Starwars network</h2>
<ul>
<li>Import the json file and create the <code>nodos</code> and <code>enlaces</code> tables</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-13_a78cf39449a1fe5becfd8a0985c3549e">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>net <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="at">txt=</span><span class="st">"./data/starwars-full-interactions-allCharacters-merged.json"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(net)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "nodes" "links"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Create those two tables from the <code>net</code> object (list)</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-14_cd7e111ae8695024e901eb45f68aae52">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>nodos <span class="ot">&lt;-</span> net<span class="sc">$</span>nodes</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>enlaces <span class="ot">&lt;-</span> net<span class="sc">$</span>links</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Have a look at the tables</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-15_4d196366be6c132ee07a56161775031d">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(enlaces,<span class="dv">2</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="do">##   source target value</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      0      1    32</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      2      0     2</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(nodos,<span class="dv">2</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="do">##          name value  colour</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 DARTH VADER   190 #000000</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2       R2-D2   171 #bde0f6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise-1-the-starwars-network-2" class="slide level2">
<h2>Exercise 1: The Starwars network</h2>
<ul>
<li>There are 111 nodos</li>
<li>The ids in the <code>enlaces</code> file are numeric and run from 0 to 110.</li>
<li>Remember that the first column in the table <code>nodos</code> must contain the same ids that the firs two columns in <code>enlaces</code>. This is why we add a new colum to this file</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-16_1d941b793d2fef1f945c6ba1ca6efaa8">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>nodos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="fu">nrow</span>(nodos)<span class="sc">-</span><span class="dv">1</span>),nodos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>With that we can generate the graph</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-17_8574f301bbf56cd5006854796a86aef9">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>gSW <span class="ot">&lt;-</span> <span class="fu">graph.data.frame</span>(enlaces,<span class="at">vertices=</span>nodos,<span class="at">directed=</span>F)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>gSW</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="do">## IGRAPH 359f972 UN-- 111 444 -- </span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="do">## + attr: name (v/c), value (v/n), colour (v/c), value (e/n)</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="do">## + edges from 359f972 (vertex names):</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] DARTH VADER--R2-D2          DARTH VADER--CHEWBACCA     </span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] DARTH VADER--WATTO          DARTH VADER--QUI-GON       </span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] DARTH VADER--PADME          DARTH VADER--SEBULBA       </span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] DARTH VADER--JAR JAR        DARTH VADER--JIRA          </span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] DARTH VADER--SHMI           DARTH VADER--C-3PO         </span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] DARTH VADER--KITSTER        DARTH VADER--WALD          </span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] DARTH VADER--OBI-WAN        DARTH VADER--JABBA         </span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] DARTH VADER--GREEDO         DARTH VADER--CAPTAIN PANAKA</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="do">## + ... omitted several edges</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise-1-the-starwars-network-3" class="slide level2">
<h2>Exercise 1: The Starwars network</h2>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-18_588edd3ef4e1be548e7f854339fd5a74">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSW)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-18-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="ids-of-nodes-and-edges" class="slide level2">
<h2>IDs of nodes and edges</h2>
<ul>
<li>Vertex and edges sequences are basically numeric vectors containing vertex/edge ids.</li>
<li>When creating the graph, the vertex ids can be numeric or character</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-19_4888bc86e280593afd86b99a5e20b506">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">V</span>(gSW))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="do">## + 6/111 vertices, named, from 359f972:</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] DARTH VADER R2-D2       CHEWBACCA   BB-8        QUI-GON     NUTE GUNRAY</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Vertex (edge) internal ids run from 1 to <span class="math inline">\(|V|\)</span> (<span class="math inline">\(|E|\)</span>). Internal ids are used typically in functions. Original ids are stored in <code>V(g)$name</code></li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-20_f9ffbfd49cc857091258b2fad44222e6">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(gSW)[<span class="dv">1</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="do">## + 1/111 vertex, named, from 359f972:</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] DARTH VADER</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">V</span>(gSW)<span class="sc">==</span><span class="st">"DARTH VADER"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="do">## named integer(0)</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">V</span>(gSW)<span class="sc">$</span>name<span class="sc">==</span><span class="st">"DARTH VADER"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graph-operations-subsetting" class="slide level2">
<h2>Graph operations: subsetting</h2>
<ul>
<li>Nodes that are neighbors of <code>a</code></li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-21_44f80d25b51fe6bc1bc0d32f64b2f9b1">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">V</span>(gSW)[<span class="fu">.nei</span>(<span class="st">"DARTH VADER"</span>)])</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="do">## + 6/111 vertices, named, from 359f972:</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] R2-D2       CHEWBACCA   QUI-GON     NUTE GUNRAY OBI-WAN     EMPEROR</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Edges between groups of nodes (direction matters)</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-22_f0a6034e7a935d0e8664e25e068ccc59">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(gSW)[<span class="fu">c</span>(<span class="st">"DARTH VADER"</span>,<span class="st">"LUKE"</span>) <span class="sc">%-&gt;%</span> <span class="fu">c</span>(<span class="st">"R2-D2"</span>,<span class="st">"C-3PO"</span>)]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="do">## + 4/444 edges from 359f972 (vertex names):</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] DARTH VADER--R2-D2 DARTH VADER--C-3PO R2-D2      --LUKE  C-3PO      --LUKE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graph-operations-subsetting-1" class="slide level2">
<h2>Graph operations: subsetting</h2>
<p>We can also use specific igraph functions for this</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-23_21e42b632ad362daff32b41585ba6f23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">neighbors</span>(gSW,<span class="st">"DARTH VADER"</span>)) <span class="co">#get the int. ids of a node’s neighbor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 6/111 vertices, named, from 359f972:
[1] R2-D2       CHEWBACCA   QUI-GON     NUTE GUNRAY OBI-WAN     EMPEROR    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">incident</span>(gSW,<span class="st">"DARTH VADER"</span>)) <span class="co">#get the incident edges to a node</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>+ 6/444 edges from 359f972 (vertex names):
[1] DARTH VADER--R2-D2       DARTH VADER--CHEWBACCA   DARTH VADER--QUI-GON    
[4] DARTH VADER--NUTE GUNRAY DARTH VADER--OBI-WAN     DARTH VADER--EMPEROR    </code></pre>
</div>
</div>
</section>
<section id="graph-operations-operations" class="slide level2">
<h2>Graph operations: operations</h2>
<p>We can modify the graph</p>
<ul>
<li>Adding/deleting vertices/edges</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-24_703280f4fe9cff8c4146382fc20f22df">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>gSW <span class="ot">&lt;-</span> gSW <span class="sc">+</span> <span class="fu">vertex</span>(<span class="st">"ANAKIN"</span>,<span class="at">color=</span><span class="st">"blue"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>gSW <span class="ot">&lt;-</span> gSW <span class="sc">+</span> <span class="fu">edge</span>(<span class="st">"DARTH VADER"</span>,<span class="st">"ANAKIN"</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>gSW <span class="ot">&lt;-</span> <span class="fu">delete_vertices</span>(gSW,<span class="st">"ANAKIN"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>See <code>add.edges</code>, <code>add.vertices</code>, <code>delete.edges</code></p>
<ul>
<li>Simplify the graph: remove loops and multiple edges</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-25_127fa747e583eef911e123ca290d8dee">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>gSW <span class="ot">&lt;-</span> <span class="fu">simplify</span>(gSW,<span class="at">remove.multiple =</span> T,<span class="at">remove.loops =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graph-operations-subgraphs" class="slide level2">
<h2>Graph operations: subgraphs</h2>
<ul>
<li>Subgraphs: only specified vertices and eges between them are kept</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-26_6c2a7e454ed3bd113c49b82cfe3055c3">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>gSW_subg <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(gSW,<span class="at">vids =</span> <span class="fu">c</span>(<span class="st">"DARTH VADER"</span>,<span class="st">"LUKE"</span>,<span class="st">"PADME"</span>,<span class="st">"LEIA"</span>))</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSW_subg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-26-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-operations-subgraphs-1" class="slide level2">
<h2>Graph operations: subgraphs</h2>
<ul>
<li>We can also get only the neighborhood of a given node</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-27_f7b65e632a2411bd6559dcdc78994593">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>egoDW <span class="ot">&lt;-</span> <span class="fu">make_ego_graph</span>(gSW,<span class="at">order =</span> <span class="dv">1</span>,<span class="st">"DARTH VADER"</span>)[[<span class="dv">1</span>]]</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(egoDW)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-27-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-operation-components" class="slide level2">
<h2>Graph operation: components</h2>
<p>Sometimes graphs are disconnected. In <code>igraph</code> we can get the connected components using</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-28_99aa16e4da1ff794039be71686997150">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSW)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-28-1.png" width="960" class="r-stretch quarto-figure-center"><div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-29_0a857a01dd8c5bec11d76a4565e916d3">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>cc <span class="ot">&lt;-</span> <span class="fu">components</span>(gSW)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cc<span class="sc">$</span>membership)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DARTH VADER       R2-D2   CHEWBACCA        BB-8     QUI-GON NUTE GUNRAY 
          1           1           1           1           1           1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cc<span class="sc">$</span>csize)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 110   1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cc<span class="sc">$</span>no)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</section>
<section id="graph-operation-components-1" class="slide level2">
<h2>Graph operation: components</h2>
<p>We can get the largest component (giant component)</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-30_e443b5745d4d4898319855c149b53573">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>gSWGC <span class="ot">&lt;-</span> <span class="fu">decompose</span>(gSW)[[<span class="dv">1</span>]]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSWGC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-30-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-analysis" class="slide level2">
<h2>Graph analysis</h2>
<ul>
<li>Count the number of edges, vertices</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-31_28e2dbf18bee7ce08ab5079b650e32d6">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vcount</span>(gSWGC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 110</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ecount</span>(gSWGC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 444</code></pre>
</div>
</div>
<ul>
<li>Calculate the in/out/all degree of vertices (and show the distribution)</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-32_d57847b318c84ed63399ef1e925c9970">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">degree</span>(gSWGC,<span class="at">mode=</span><span class="st">"all"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         DARTH VADER                R2-D2            CHEWBACCA 
                  52                   22                   19 
                BB-8              QUI-GON          NUTE GUNRAY 
                  12                   27                   16 
                PK-4                TC-14              OBI-WAN 
                   2                    5                   36 
              DOFINE                 RUNE              TEY HOW 
                   3                    4                    3 
             EMPEROR       CAPTAIN PANAKA           SIO BIBBLE 
                  22                    9                    8 
             JAR JAR              TARPALS            BOSS NASS 
                  24                    1                    6 
               PADME             RIC OLIE                WATTO 
                  34                    7                    6 
             SEBULBA                 JIRA                 SHMI 
                   6                    3                    8 
               C-3PO           DARTH MAUL              KITSTER 
                  35                    4                    9 
                WALD            FODE/BEED                JABBA 
                   5                    3                   14 
              GREEDO              VALORUM           MACE WINDU 
                   4                    4                   13 
        KI-ADI-MUNDI                 YODA                 RABE 
                   9                   17                    5 
         BAIL ORGANA         GENERAL CEEL            BRAVO TWO 
                  17                    4                    3 
         BRAVO THREE        CAPTAIN TYPHO      SENATOR ASK AAK 
                   3                    6                    7 
        ORN FREE TAA                 SOLA                JOBAL 
                   3                    4                    4 
               RUWEE              TAUN WE              LAMA SU 
                   4                    4                    2 
           BOBA FETT           JANGO FETT                 OWEN 
                  10                    4                    7 
                BERU               CLIEGG          COUNT DOOKU 
                   8                    5                   10 
             SUN RIT               POGGLE             PLO KOON 
                   6                    6                    1 
            ODD BALL     GENERAL GRIEVOUS             FANG ZAR 
                   2                    3                    4 
          MON MOTHMA         GIDDEAN DANU CLONE COMMANDER GREE 
                  10                    4                    1 
CLONE COMMANDER CODY           TION MEDON     CAPTAIN ANTILLES 
                   4                    1                    3 
                LUKE                CAMIE                BIGGS 
                  26                    2                    8 
                LEIA                MOTTI               TARKIN 
                  25                    3                    3 
                 HAN              DODONNA          GOLD LEADER 
                  26                    3                    5 
               WEDGE           RED LEADER              RED TEN 
                   8                    7                    2 
             RIEEKAN               DERLIN                  ZEV 
                   4                    2                    2 
               PIETT                OZZEL                 DACK 
                   4                    2                    1 
              JANSON                NEEDA                LANDO 
                   1                    2                   11 
           JERJERROD          BIB FORTUNA               BOUSHH 
                   1                    3                    4 
      ADMIRAL ACKBAR        LOR SAN TEKKA                  POE 
                  11                    4                   16 
            KYLO REN       CAPTAIN PHASMA                 FINN 
                  10                    7                   14 
         UNKAR PLUTT                  REY          GENERAL HUX 
                   2                   10                    5 
   LIEUTENANT MITAKA             BALA-TIK                SNOKE 
                   2                    5                    2 
                 MAZ                 SNAP      ADMIRAL STATURA 
                   5                    8                    7 
           YOLO ZIFF        COLONEL DATOO            ELLO ASTY 
                   4                    1                    4 
                JESS              NIV LEK 
                   5                    4 </code></pre>
</div>
</div>
</section>
<section id="graph-analysis-1" class="slide level2">
<h2>Graph analysis</h2>
<p>Distributions</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-33_49f4b19e24fce6c9fd5cf3b48489fd26">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">degree</span>(gSWGC,<span class="at">mode=</span><span class="st">"all"</span>))) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Degree"</span>,<span class="at">y=</span><span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-33-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-analysis-2" class="slide level2">
<h2>Graph analysis</h2>
<ul>
<li>Calculate the diameter of the graph</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-34_7d8c19a8f3331fc36e4de516234f0cfd">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diameter</span>(gSWGC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<ul>
<li>Calculate the transitivity of the graph</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-35_1a266304502a7bb57514c137b51efc0e">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transitivity</span>(gSWGC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3509934</code></pre>
</div>
</div>
<ul>
<li>Calculate the assortativity (degree) of the graph</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-36_5badcc1d12608cd5d8bb2052f6ab53d8">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">assortativity_degree</span>(gSWGC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.2086289</code></pre>
</div>
</div>
</section>
<section id="graph-communities" class="slide level2">
<h2>Graph communities</h2>
<p>A network is said to have a community structure if nodes can be grouped into set of nodes such that each set in <strong>densely connected internally</strong></p>
<p><img data-src="img/gZachary.png"> <img data-src="img/gZacharycomm.png"></p>
</section>
<section id="graph-communities-1" class="slide level2 smaller">
<h2>Graph communities</h2>
<p>There are many algorithms based on different clustering, function and optimization ideas. One key idea recently introduces is that of the <strong>modularity</strong> of a partition. In <code>igraph</code> we have</p>
<ul>
<li>Algorithms based on hierarchical clustering
<ul>
<li><code>cluster_edge_betweenness</code> remove edges of high betweenness since they seem to be between communities.</li>
<li><code>cluster_fast_greedy</code> join nodes/groups with local greedy optimization of the modularity.</li>
<li><code>cluster_louvain</code> hierarchical optimization of the modularity by joining nodes/groups.</li>
<li><code>cluster_leiden</code> similar to the Louvain algorithm but faster and higher quality solutions.</li>
</ul></li>
<li>Algorithms based on matrix algebra
<ul>
<li><code>cluster_leading_eigen</code> use the leading vector of the modularity matrix.</li>
</ul></li>
<li>Algorithms based on process methods
<ul>
<li><code>cluster_label_prop</code> find consensus in majority voting of labels in the neighborhood of a vertex.</li>
<li><code>cluster_walktrap</code> short random walks tend to stay in the same community.</li>
<li><code>cluster_infomap</code> find community structure that minimizes the expected description length of random walker trajectories.</li>
</ul></li>
</ul>
</section>
<section id="graph-communities-2" class="slide level2">
<h2>Graph communities</h2>
<p>Not all the methods are equal and/or valid and/or efficient</p>
<table>
<colgroup>
<col style="width: 41%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th>Algorithm</th>
<th style="text-align: center;">Directed</th>
<th style="text-align: center;">Weighted</th>
<th style="text-align: center;">Complexity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cluster_edge_betweenness</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;"><span class="math inline">\(|V| |E|^2\)</span></td>
</tr>
<tr class="even">
<td><code>cluster_fast_greedy</code></td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;"><span class="math inline">\(|V| |E| \log |V|\)</span></td>
</tr>
<tr class="odd">
<td><code>cluster_louvain</code></td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;"><span class="math inline">\(|V|+ |E|\)</span></td>
</tr>
<tr class="even">
<td><code>cluster_leading_eigen</code></td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;"><span class="math inline">\(c|V|^2 + |E|\)</span></td>
</tr>
<tr class="odd">
<td><code>cluster_label_prop</code></td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;"><span class="math inline">\(|V|+ |E|\)</span></td>
</tr>
<tr class="even">
<td><code>cluster_walktrap</code></td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;"><span class="math inline">\(|V|^2 |E|\)</span></td>
</tr>
<tr class="odd">
<td><code>cluster_infomap</code></td>
<td style="text-align: center;">FALSE</td>
<td style="text-align: center;">TRUE</td>
<td style="text-align: center;"><span class="math inline">\(|V| (|V|+ |E|)\)</span></td>
</tr>
</tbody>
</table>
</section>
<section id="graph-communities-3" class="slide level2">
<h2>Graph communities</h2>
<p>Let’s see an example with the famous Karate Club network and the <code>fast.greedy</code></p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-37_9aefcb2330fcec2a67ffb1697c2f15c0">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>( karate )</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>fg <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(karate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We get the following partition</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-38_8714f51696f087d52e9a14212a68be07">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">membership</span>(fg))</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="do">##   Mr Hi Actor 2 Actor 3 Actor 4 Actor 5 Actor 6 </span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="do">##       2       2       2       2       3       3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Check the goodness of the partition</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-39_2b7ec820ca1e06dc695a9656ad4333c5">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(fg)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.4345215</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graph-communities-4" class="slide level2">
<h2>Graph communities</h2>
<ul>
<li>We can show the graph and communities together</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-40_663d51d8656e6ace14aa9b56dd3994b6">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fg,karate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-40-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-communities-5" class="slide level2">
<h2>Graph communities</h2>
<p>Different algorithms produce different results</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-41_590ac59fc9343eb680e03a7afbf32bfd">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>louvain <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(karate)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(louvain,karate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-41-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-communities-6" class="slide level2">
<h2>Graph communities</h2>
<p>We can compare different the communities found:</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-42_71ecf5247bdbaddad18df16a4daef35a">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">layout.kamada.kawai</span>(karate)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fg,karate,<span class="at">layout=</span>ll) </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(louvain,karate,<span class="at">layout=</span>ll)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.688021</code></pre>
</div>
</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-42-1.png" width="960" class="r-stretch quarto-figure-center"><p><code>nmi</code> is one of the methods to compare communities.</p>
</section>
<section id="exercise-1" class="slide level2">
<h2>Exercise 1</h2>
<p>Calculate the communities in the StarWars network using the Louvain method. How good is the partition found? Which is the community of Darth Vader?</p>
<p>Use</p>
<ul>
<li><code>cluster_louvain</code> to calculate the communities</li>
<li><code>membership</code> to get the partition</li>
<li><code>modularity</code> to see how good is the partition</li>
</ul>
</section>
<section id="exercise-1-1" class="slide level2">
<h2>Exercise 1</h2>
<p>Get the communities with and without the weights</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-43_43227fb2ef0e7d480edcc86ea2365149">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>comm_sin <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(gSWGC,<span class="at">weights=</span><span class="cn">NULL</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>comm_con <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(gSWGC,<span class="at">weights =</span> <span class="fu">E</span>(gSWGC)<span class="sc">$</span>value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s see how are the communities</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-44_eee1278ada1dce45a76e0fa3deb6dafc">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sizes</span>(comm_sin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Community sizes
 1  2  3  4 
39 17 32 22 </code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-45_b27d200811f873b8e506d296dad94213">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sizes</span>(comm_con)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Community sizes
 1  2  3  4  5  6 
54 15 20 10  3  8 </code></pre>
</div>
</div>
</section>
<section id="exercise-1-2" class="slide level2">
<h2>Exercise 1</h2>
<p>How good are the communities?</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-46_41708cc9571dd6f375bf2c812e2272b3">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(comm_sin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4119821</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-47_e10676ef179c70fbb2be97399f81cd39">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modularity</span>(comm_con)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3962382</code></pre>
</div>
</div>
<p>Plot them</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-48_f6cd740f610966eaa7887ceeea4e0d54">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>ll <span class="ot">&lt;-</span> <span class="fu">layout.kamada.kawai</span>(gSWGC)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(comm_sin,gSWGC,<span class="at">layout=</span>ll,<span class="at">vertex.label=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-48-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="exercise-1-3" class="slide level2">
<h2>Exercise 1</h2>
<p>Find Darth Vader’s community:</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-49_be667e5cf24f9737d558302ae2d0862f">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">membership</span>(comm_con) <span class="sc">%&gt;%</span> <span class="fu">enframe</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name<span class="sc">==</span><span class="st">"DARTH VADER"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  name        value     
  &lt;chr&gt;       &lt;membrshp&gt;
1 DARTH VADER 1         </code></pre>
</div>
</div>
<p>Who belongs to that community?</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-50_2b8f36ad7103d6703a388c08559cf893">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">membership</span>(comm_con) <span class="sc">%&gt;%</span> <span class="fu">enframe</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(value<span class="sc">==</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 54 × 2
   name           value     
   &lt;chr&gt;          &lt;membrshp&gt;
 1 DARTH VADER    1         
 2 QUI-GON        1         
 3 OBI-WAN        1         
 4 EMPEROR        1         
 5 CAPTAIN PANAKA 1         
 6 SIO BIBBLE     1         
 7 JAR JAR        1         
 8 TARPALS        1         
 9 BOSS NASS      1         
10 PADME          1         
# ℹ 44 more rows</code></pre>
</div>
</div>
</section>
<section id="centrality" class="slide level2">
<h2>Centrality</h2>
<p>Not all nodes in the network are equally important. <code>igraph</code> has several ways to calculate centrality of nodes and edges</p>
<ul>
<li>PageRank: calculates Google’s PageRank for vertices</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-51_e2d5d40f1e889f609d1b808d02e7782f">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>pr <span class="ot">&lt;-</span> <span class="fu">page_rank</span>(gSWGC)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>pr<span class="sc">$</span>vector <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing =</span> T) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DARTH VADER     OBI-WAN       C-3PO       PADME        LUKE     QUI-GON 
 0.05368943  0.03706176  0.03339089  0.03285987  0.02792112  0.02608201 </code></pre>
</div>
</div>
<ul>
<li>Closeness: distance (steps) to any other vertex</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-52_c3ced6cf65769bd340a10d3bee16e258">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">closeness</span>(gSWGC)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span>cl <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing =</span> T) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DARTH VADER       C-3PO     OBI-WAN         HAN        LUKE       R2-D2 
        178         193         194         204         206         210 </code></pre>
</div>
</div>
</section>
<section id="centrality-1" class="slide level2">
<h2>Centrality</h2>
<ul>
<li>Betweenness: the number of shortest paths going through a vertex/edge</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-53_061ecba2141e181b9f62f5943604277e">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>bt <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(gSWGC)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>bt <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing =</span> T) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DARTH VADER     OBI-WAN       C-3PO        LUKE         HAN         POE 
  1704.2018    975.1258    833.7129    785.0163    623.5365    437.5932 </code></pre>
</div>
</div>
<ul>
<li>We can use also the weighted versions to calculate the paths or rank</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-54_5fac84e1ad7b9b2bd6f3c30f189032b4">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>bt_weighted <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(gSWGC,<span class="at">weights =</span> <span class="fu">E</span>(gSWGC)<span class="sc">$</span>value)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>bt_weighted <span class="sc">%&gt;%</span> <span class="fu">sort</span>(<span class="at">decreasing =</span> T) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>DARTH VADER       C-3PO     OBI-WAN        LEIA       JABBA     JAR JAR 
  1199.0953   1077.7820    855.7510    792.2414    585.3337    543.0241 </code></pre>
</div>
</div>
</section>
<section id="exercise-2" class="slide level2">
<h2>Exercise 2</h2>
<ul>
<li><p>Calculate the centrality of the characters in the StarWars network using the degree, betweenness and page rank.</p></li>
<li><p>Who are the most important characters according to those centrality metrics?</p></li>
<li><p>How are those centrality metrics correlated across the network?</p></li>
</ul>
</section>
<section id="exercise-2-1" class="slide level2">
<h2>Exercise 2</h2>
<p>Calculate different centrality metrics. We are going to try also the <code>degree strength</code> which is the sum of the weights of the links from/to a node:</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-55_5abd6b2cfcf721f1a6fb081349e7a73d">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>cent_degree <span class="ot">&lt;-</span> <span class="fu">degree</span>(gSWGC,<span class="at">mode=</span><span class="st">"all"</span>)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>cent_streng <span class="ot">&lt;-</span> <span class="fu">strength</span>(gSWGC,<span class="at">weights=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>cent_betw <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(gSWGC, <span class="at">weights=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value)</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>cent_page <span class="ot">&lt;-</span> <span class="fu">page_rank</span>(gSWGC, <span class="at">weights=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value)<span class="sc">$</span>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Put them together</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-56_4952237f2c75bfbafe176fbdec2f773f">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>table_cent <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(cent_degree,cent_streng,</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>           cent_betw,cent_page)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>table_cent <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            cent_degree cent_streng  cent_betw  cent_page
DARTH VADER          52         309 1199.09534 0.07172250
R2-D2                22         279  108.06440 0.04890130
CHEWBACCA            19         297  341.42822 0.04722319
BB-8                 12          72   56.48961 0.01418203
QUI-GON              27         152  388.33956 0.03419694</code></pre>
</div>
</div>
</section>
<section id="exercise-2-2" class="slide level2">
<h2>Exercise 2</h2>
<p>We can see who are the most central according to different metrics</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-57_ac5bed056f2f3e62d9e45eb9f0da8f2e">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>table_cent <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>cent_streng) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            cent_degree cent_streng cent_betw  cent_page
HAN                  26         360  490.2382 0.05850435
C-3PO                35         310 1077.7820 0.05284785
DARTH VADER          52         309 1199.0953 0.07172250
CHEWBACCA            19         297  341.4282 0.04722319
R2-D2                22         279  108.0644 0.04890130</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-58_315ef166d5aa31f9da8dd27485803dc3">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>table_cent <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>cent_betw) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            cent_degree cent_streng cent_betw   cent_page
DARTH VADER          52         309 1199.0953 0.071722501
C-3PO                35         310 1077.7820 0.052847848
OBI-WAN              36         261  855.7510 0.057058540
LEIA                 25         258  792.2414 0.042098680
JABBA                14          22  585.3337 0.005808442</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-59_b344ed3ae964d2a4d910261ac22a95a3">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>table_cent <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>cent_page) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            cent_degree cent_streng cent_betw  cent_page
DARTH VADER          52         309 1199.0953 0.07172250
HAN                  26         360  490.2382 0.05850435
OBI-WAN              36         261  855.7510 0.05705854
C-3PO                35         310 1077.7820 0.05284785
R2-D2                22         279  108.0644 0.04890130</code></pre>
</div>
</div>
</section>
<section id="exercise-2-3" class="slide level2">
<h2>Exercise 2</h2>
<p>How are these measures of centrality correlated? We are going to use the <em>Kendall</em> method that are used to estimate rank-based measured of association.</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-60_063b665f89289f2aa6eb7a56ee23393c">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(corrplot)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>cc <span class="ot">&lt;-</span> <span class="fu">cor</span>(table_cent,<span class="at">method=</span><span class="st">"kendall"</span>)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(cc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-60-1.png" width="960" class="r-stretch quarto-figure-center"><p>As we can see the major differences happen with betweenness and the rest.</p>
</section>
<section id="graph-visualization" class="slide level2">
<h2>Graph visualization</h2>
<ul>
<li>Visualizing a graph involves calculating a <strong>layout</strong> for displaying the nodes in a two-dimensional figure.</li>
<li>But this is a complicated task, since generally a graph is not a 2D structure.</li>
<li>Thus, all layouts are projections of the graph object. There are many of them using mathematical and/or computer science methods.</li>
<li>A good layout is such that:
<ul>
<li>Minimizes the number of crossing edges.</li>
<li>Minimizes the length of edges.</li>
</ul></li>
</ul>
</section>
<section id="graph-visualization-1" class="slide level2">
<h2>Graph visualization</h2>
<p>Basically there are different groups of methods (by strategy) to obtain a good <strong>layout</strong></p>
<div class="columns">
<div class="column">
<p><strong>Force-based layout</strong>: use physical forces (typically spring-like) between nodes along edges (attractive) and between nodes (repulsive) and find a minimum of their energy.</p>
<ul>
<li><code>layout.fruchterman.reingold</code></li>
<li><code>layout.kamada.kawai</code></li>
<li><code>layout.spring</code></li>
<li><code>layout.lgl</code></li>
<li><code>layout.drl</code></li>
<li><code>layout.graphopt</code></li>
</ul>
</div><div class="column">
<p><strong>Spectral methods</strong>:</p>
<ul>
<li><code>layout.svd</code></li>
</ul>
<p><strong>Special graphs</strong>: for example, tree-like layout for trees.</p>
<ul>
<li><code>layout.reingold.tilford</code></li>
</ul>
<p><strong>Ordered</strong>: place nodes in defined structures</p>
<ul>
<li><code>layout.random</code></li>
<li><code>layout.circle</code></li>
<li><code>layout.sphere</code></li>
</ul>
</div>
</div>
</section>
<section id="graph-visualization-2" class="slide level2">
<h2>Graph visualization</h2>
<p>Caution: Computing a layout is a high intensive task. For example in force-based layouts it takes to evaluate <span class="math inline">\(|E|\)</span> attractive forces along edges and <span class="math inline">\(|V|^2\)</span> repulsive forces between nodes for each step of the minimization algorithm.</p>
<p>Example: running time to produce the layout of <code>barabasi.game(n)</code> with different number of nodes <code>n</code>.</p>
<center>
<img data-src="img/layouttimes.png">
</center>
</section>
<section id="graph-visualization-3" class="slide level2">
<h2>Graph visualization</h2>
<p>We can change the visualization by changing colors, size, font, etc. of nodes and edges</p>
<ul>
<li><code>vertex.label = ""</code> sets labels to nothing</li>
<li><code>vertex.size = 2</code> set vertex symbol size to 2</li>
<li><code>vertex.color = colors</code> set vertex color to that of <code>colors</code> vector</li>
<li><code>edge.color = colors</code> same for edges</li>
<li><code>edge.width = wij</code> set edge width to vector <code>wij</code></li>
<li><code>edge.arrow.size = 0.5</code> set size of arrows to 0.5</li>
<li><code>edge.curved = T</code> draw curved edges</li>
</ul>
</section>
<section id="graph-visualization-4" class="slide level2">
<h2>Graph visualization</h2>
<p>When visualizing a medium/large graph we can use some tricks to get more informative visualizations:</p>
<ul>
<li>Make the size of the nodes proportional to their centrality/degree</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-61_1795193adf6ca2fc84fc8bfa8b43c4cf">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSWGC,<span class="at">vertex.size=</span><span class="fu">degree</span>(gSWGC))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-61-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-5" class="slide level2">
<h2>Graph visualization</h2>
<ul>
<li>The width of the edges proportional to the <code>value</code> (or strength) attribute</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-62_46acef1eef5a6f0aeed7b9d9e698243a">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSWGC,<span class="at">vertex.size=</span><span class="fu">degree</span>(gSWGC), <span class="at">edge.width=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value<span class="sc">/</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-62-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-6" class="slide level2">
<h2>Graph visualization</h2>
<ul>
<li>The color of the nodes as in the <code>colour</code> attribute</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-63_2eafa7595dfd96ae8883e1b42ebef697">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSWGC,<span class="at">vertex.size=</span><span class="fu">degree</span>(gSWGC),<span class="at">edge.width=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value<span class="sc">/</span><span class="dv">2</span>,<span class="at">vertex.color=</span><span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-63-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-7" class="slide level2">
<h2>Graph visualization</h2>
<ul>
<li>Show only the nodes’ label for those with degree <span class="math inline">\(\geq\)</span> 10</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-64_8ac3dde7b1e576e1bc251682a3417997">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>etiqueta <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">degree</span>(gSWGC)<span class="sc">&gt;</span><span class="dv">5</span>,<span class="fu">V</span>(gSWGC)<span class="sc">$</span>name,<span class="st">""</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSWGC,<span class="at">vertex.size=</span><span class="fu">degree</span>(gSWGC),<span class="at">edge.width=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value<span class="sc">/</span><span class="dv">2</span>,<span class="at">vertex.color=</span><span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour,</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label=</span>etiqueta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-64-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-8" class="slide level2">
<h2>Graph visualization</h2>
<ul>
<li>Change the font family and size for the nodes’ labels</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-65_7bf237af76a3d4cc5cc8d19e90851832">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>etiqueta <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">degree</span>(gSWGC)<span class="sc">&gt;</span><span class="dv">5</span>,<span class="fu">V</span>(gSWGC)<span class="sc">$</span>name,<span class="st">""</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gSWGC,<span class="at">vertex.size=</span><span class="fu">degree</span>(gSWGC),<span class="at">edge.width=</span><span class="fu">E</span>(gSWGC)<span class="sc">$</span>value<span class="sc">/</span><span class="dv">2</span>,<span class="at">vertex.color=</span><span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour,</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label=</span>etiqueta,</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.family=</span><span class="st">"sans"</span>,<span class="at">vertex.label.dist=</span><span class="dv">1</span>,<span class="at">vertex.label.cex=</span><span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-65-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-9" class="slide level2">
<h2>Graph visualization</h2>
<p>We can use also the <code>ggraph</code> and <code>graphlayouts</code> packages to visualize networks using the <code>ggplot</code> grammar</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-66_a05c6f5cd64a9ee59861660d8ebfb3b9">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(ggraph)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gSWGC) <span class="sc">+</span> <span class="fu">geom_edge_link</span>() <span class="sc">+</span> <span class="fu">geom_node_point</span>() <span class="sc">+</span> <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-66-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-10" class="slide level2">
<h2>Graph visualization</h2>
<p>Some of the <code>igraph</code> layouts work here too. And we can use some of the grammar in <code>ggplot</code></p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-67_954c1859373e39435d32e9f955d9000a">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gSWGC,<span class="at">layout=</span><span class="st">"lgl"</span>) <span class="sc">+</span> <span class="fu">geom_edge_link</span>() <span class="sc">+</span> <span class="fu">geom_node_point</span>() <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Starwars Network"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-67-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-11" class="slide level2">
<h2>Graph visualization</h2>
<p>We can change the type of edges. Visual properties for nodes and edges work too:</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-68_4477fa43402b9f081930fdb677fb0728">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gSWGC,<span class="at">layout=</span><span class="st">"lgl"</span>) <span class="sc">+</span> <span class="fu">geom_edge_arc</span>(<span class="at">color=</span><span class="st">"gray50"</span>,<span class="at">width=</span><span class="fl">0.8</span>,<span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">color=</span><span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour,<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Starwars Network"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-68-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-12" class="slide level2">
<h2>Graph visualization</h2>
<p>The ggraph package also uses the traditional <code>ggplot2</code> way of mapping aesthetics</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-69_8565b0115b92b478274865fbde599dbe">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gSWGC,<span class="at">layout=</span><span class="st">"lgl"</span>) <span class="sc">+</span> <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_width=</span>value),<span class="at">color=</span><span class="st">"gray50"</span>,<span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">color=</span><span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour,<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Starwars Network"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-69-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-visualization-13" class="slide level2">
<h2>Graph visualization</h2>
<p>We can add a layer with node labels using geom_node_text() or geom_node_label() which correspond to similar functions in ggplot2.</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-70_3e9c657b798e74e89850fa4f2f04aaf0">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(gSWGC,<span class="at">layout=</span><span class="st">"lgl"</span>) <span class="sc">+</span> <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">edge_width=</span>value),<span class="at">color=</span><span class="st">"gray50"</span>,<span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="at">color=</span><span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour,<span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label=</span>name),<span class="at">size=</span><span class="dv">3</span>, <span class="at">color=</span><span class="st">"gray50"</span>, <span class="at">repel=</span>T) <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Starwars Network"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-70-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="interactive-graph-visualization" class="slide level2">
<h2>Interactive Graph visualization</h2>
<p>Another (more recent) library for graph visualization is <code>visNetwork</code>, which allows interactive visualization. The function <code>visNetwork</code> needs two data frames</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-71_10e333f42d9155659da8140327c39006">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visIgraph</span>(gSWGC,<span class="at">physics =</span> T) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-72_59b39c586ca11e4d76b0b52e370d7b93">
<div class="cell-output-display">
<div id="htmlwidget-0f54b210d3aa0b325505" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-0f54b210d3aa0b325505">{"x":{"url":"Taller_1_Intro_igraph_files/figure-revealjs//widgets/widget_unnamed-chunk-72.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="interactive-graph-visualization-1" class="slide level2">
<h2>Interactive Graph visualization</h2>
<p>We can even highlight the neighborhood of a node or selecte a node from a list</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-73_02c21f925268fbc659445bb71c94a54b">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visIgraph</span>(gSWGC,<span class="at">physics =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>, <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-74_ab5a86225ea0d20180eff83ab0a173b2">
<div class="cell-output-display">
<div id="htmlwidget-5e25e9b7842622643900" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-5e25e9b7842622643900">{"x":{"url":"Taller_1_Intro_igraph_files/figure-revealjs//widgets/widget_unnamed-chunk-74.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="interactive-graph-visualization-2" class="slide level2">
<h2>Interactive Graph visualization</h2>
<p>Or use colors for the nodes</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-75_aa2c5f675be21f2880184a423af596cd">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(gSWGC)<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">V</span>(gSWGC)<span class="sc">$</span>colour</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">visIgraph</span>(gSWGC,<span class="at">physics =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>, <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-76_c7e81c4c5781efb39505a6682f27f932">
<div class="cell-output-display">
<div id="htmlwidget-9494d9d27e8bcf559b2a" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-9494d9d27e8bcf559b2a">{"x":{"url":"Taller_1_Intro_igraph_files/figure-revealjs//widgets/widget_unnamed-chunk-76.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="graph-visualization-14" class="slide level2">
<h2>Graph visualization</h2>
<ul>
<li><p>Check <a href="https://datastorm-open.github.io/visNetwork/" class="uri">https://datastorm-open.github.io/visNetwork/</a> for more options of the <code>visNetwork</code> package</p></li>
<li><p>Although <code>visNetwork</code> works well for small graphs, it is not recommended to plot very graphs (<span class="math inline">\(&gt; 1000\)</span> nodes)</p></li>
<li><p>For those sizes we will use <code>Gephi</code>, an external application</p></li>
<li><p>To do that we expor the graph to work on <code>Gephi</code></p></li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-77_1aff254957f44df6b3719ed16fe19c5d">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.graph</span>(gSWGC,<span class="at">file=</span><span class="st">"./data/gSWGC.graphml"</span>,<span class="at">format=</span><span class="st">"graphml"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualization-using-gephi" class="slide level2">
<h2>Visualization using Gephi</h2>
<p>Gephi is probably the most used tool to visualize graphs</p>
<ul>
<li>Is an interactive visualization software</li>
<li>includes some analysis metrics.</li>
<li>Works in Windows Linux and MacOSX.</li>
<li>It is the <strong>photoshop</strong> for graphs</li>
<li><a href="http://gephi.org" class="uri">http://gephi.org</a></li>
</ul>
</section>
<section id="visualization-using-gephi-1" class="slide level2">
<h2>Visualization using Gephi</h2>
<p>Open Gephi -&gt; Create new project</p>
<center>
<img src="img/gephi1.png" width="800px">
</center>
</section>
<section id="visualization-using-gephi-2" class="slide level2">
<h2>Visualization using Gephi</h2>
<p>Load <code>gSWGC.graphml</code></p>
<center>
<img src="img/gephi2.png" width="800px">
</center>
</section>
<section id="visualization-using-gephi-3" class="slide level2">
<h2>Visualization using Gephi</h2>
<p>Choose layout (best is Atlas)</p>
<center>
<img src="img/gephi3.png" width="800px">
</center>
</section>
<section id="visualization-using-gephi-4" class="slide level2">
<h2>Visualization using Gephi</h2>
<p>Change properties of nodes/edges</p>
<center>
<img src="img/gephi4.png" width="800px">
</center>
</section>
<section id="visualization-using-gephid" class="slide level2">
<h2>Visualization using Gephid</h2>
<p>Once you are finished with the layout and appearance, got to “Preview” (and Refresh). You can further modify the graph and export it using PDF/PNG/SVG</p>
<center>
<img src="img/gephi5.png" width="800px">
</center>
<p>And you can export the graph using PDF/PNG/SVG</p>
</section>
<section id="visualization-using-gephi-5" class="slide level2">
<h2>Visualization using Gephi</h2>
<p>Gephi is really good for large graphs</p>
<center>
<img src="img/gephi3copy.png" width="800px">
</center>
</section>
<section>
<section id="references" class="title-slide slide level1 center">
<h1>References</h1>
<ul>
<li>General resources:
<ul>
<li><a href="https://github.com/briatte/awesome-network-analysis#courses">Awesome Network Analysis</a></li>
</ul></li>
<li>About <code>igraph</code>
<ul>
<li>Material online
<ul>
<li><a href="https://r.igraph.org/articles/igraph.html">Intro to igraph in R</a></li>
<li><a href="http://igraph.wikidot.com">igraph wikidot</a></li>
</ul></li>
<li>Libros
<ul>
<li><a href="https://www.amazon.com/Statistical-Analysis-Network-Data-Use-dp-3030441288/dp/3030441288/ref=dp_ob_title_bk">The igraph book</a></li>
</ul></li>
</ul></li>
<li>Visualization of networks
<ul>
<li><a href="https://kateto.net/network-visualization">Static and dynamic network visualization with R</a></li>
<li><a href="https://mdl.library.utoronto.ca/technology/tutorials/visualizing-network-dataset-using-gephi">Visualizing a Network Dataset Using Gephi</a></li>
</ul></li>
</ul>
</section>
<section id="graph-models" class="slide level2">
<h2>Graph Models</h2>
<p>The library <code>igraph</code> contains a number of functions to create networks from statistical models.</p>
<ul>
<li>Erdos-Renyi (or GNP) graph with 20 nodes and probability of a link <span class="math inline">\(p= 0.1\)</span></li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-78_b655ba664335aebdec4cce39931d4d6d">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>g_er <span class="ot">&lt;-</span> <span class="fu">sample_gnp</span>(<span class="dv">20</span>,<span class="fl">0.1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Erdos-Renyi (or GNP) graph with 20 nodes and 40 links</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-79_3a12594c836bfe142fe53b58bcb1c2aa">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>g_er_2 <span class="ot">&lt;-</span> <span class="fu">sample_gnm</span>(<span class="dv">20</span>,<span class="dv">40</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Prefferential attachement (Barabasi-Albert) network with 20 nodes</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-80_28c8fca330013daa1a7b55f8d1a5c92c">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>g_pa <span class="ot">&lt;-</span> <span class="fu">sample_pa</span>(<span class="dv">20</span>,<span class="at">directed =</span> F) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Small-World network in 1 dimension with 20 nodes, with size of local neighborhood equal to 4 and rewiring probability <span class="math inline">\(p=0.1\)</span>.</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-81_d62aa9df3116a98e777c64c69ee2d31c">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>g_sw <span class="ot">&lt;-</span> <span class="fu">sample_smallworld</span>(<span class="dv">1</span>,<span class="dv">20</span>,<span class="dv">4</span>,<span class="fl">0.1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Configuration model with the same degrees as in the karate network</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-82_0b04b853e3d35cb5d89908485405269c">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>g_ds <span class="ot">&lt;-</span> <span class="fu">sample_degseq</span>(<span class="fu">degree</span>(karate)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graph-models-1" class="slide level2">
<h2>Graph Models</h2>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-83_2f6521c74f880f11226d0960faa64861">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(patchwork)</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g_er,<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>()<span class="sc">+</span><span class="fu">theme_void</span>()<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Erdos-Renyi"</span>)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g_pa,<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>()<span class="sc">+</span><span class="fu">theme_void</span>()<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Pref. Attachment"</span>)</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g_sw,<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>()<span class="sc">+</span><span class="fu">theme_void</span>()<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Small-World"</span>)</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(g_ds,<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>()<span class="sc">+</span><span class="fu">theme_void</span>()<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Degree Seq."</span>)</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>g1 <span class="sc">+</span> g2 <span class="sc">+</span> g3 <span class="sc">+</span> g4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-83-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-models-2" class="slide level2">
<h2>Graph Models</h2>
<p>Note that this functions generate a <strong>sample</strong> from the distribution of models. That is, since models like Erdos-Renyi, Pref. Attachement, Small World or Degree Sequence are stochastic, everytime we call them, they give a different realization of the model:</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-84_b5a87ab25f9946897cb0ff7ad4073138">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(<span class="fu">sample_gnp</span>(<span class="dv">20</span>,<span class="fl">0.1</span>),<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>(<span class="at">col=</span><span class="st">"blue"</span>)<span class="sc">+</span><span class="fu">theme_void</span>()</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(<span class="fu">sample_gnp</span>(<span class="dv">20</span>,<span class="fl">0.1</span>),<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>(<span class="at">col=</span><span class="st">"red"</span>)<span class="sc">+</span><span class="fu">theme_void</span>()</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(<span class="fu">sample_gnp</span>(<span class="dv">20</span>,<span class="fl">0.1</span>),<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>(<span class="at">col=</span><span class="st">"orange"</span>)<span class="sc">+</span><span class="fu">theme_void</span>()</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(<span class="fu">sample_gnp</span>(<span class="dv">20</span>,<span class="fl">0.1</span>),<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>(<span class="at">col=</span><span class="st">"green"</span>)<span class="sc">+</span><span class="fu">theme_void</span>()</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>g1 <span class="sc">+</span> g2 <span class="sc">+</span> g3 <span class="sc">+</span> g4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-84-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-models-3" class="slide level2">
<h2>Graph models</h2>
<p>Graph statistical models are use to test statistical hypothesis. For example, is the transitivity/clustering that we get in a network statistically significant. In this sense graph statistical models are <strong>null models</strong> for those test. Typical null models are</p>
<ul>
<li><p>Erdos-Renyi models with the same number of nodes and links as the network we are testing</p></li>
<li><p>Degree-sequence models with the same degree distribution</p></li>
</ul>
<p>Choosing a different null model test different statistical hypothesis. For example: is the clustering in our network just due to the large number of links that we have? Are the communities we find in the network due to the degree sequence?</p>
</section>
<section id="graph-models-4" class="slide level2">
<h2>Graph models</h2>
<p>Let’s see an example of statistical test in networks. Suppose we use the Enron network (simplified) and get its transitivity/clustering</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-85_ff5bac738205d40c5a0079b4a912fc69">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(enron)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>enron_sim <span class="ot">&lt;-</span> <span class="fu">simplify</span>(enron)</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="fu">transitivity</span>(enron_sim)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3964989</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(enron_sim,<span class="at">layout=</span><span class="st">"kk"</span>)<span class="sc">+</span><span class="fu">geom_edge_link</span>()<span class="sc">+</span><span class="fu">geom_node_point</span>()<span class="sc">+</span><span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-85-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="graph-models-5" class="slide level2">
<h2>Graph models</h2>
<p>But the network is very heterogeneous in degree. In the Enron company some people are more connected than others</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-86_ade520caf9a012db22f90fc729e83750">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>()<span class="sc">+</span><span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">degree</span>(enron_sim,<span class="at">mode=</span><span class="st">"all"</span>))) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Degree"</span>,<span class="at">y=</span><span class="st">"Density"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-86-1.png" width="960" class="r-stretch quarto-figure-center"><p>Is the large transitivity in the network just a mere consequence of the large heterogeneity in degree?</p>
</section>
<section id="graph-models-6" class="slide level2">
<h2>Graph models</h2>
<p>Let’s compare the transivity in the real newtork with the one from a degree-sequence realization with the same degree distribution as the real network</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-87_a339809940220fb5e474df57463b2706">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transitivity</span>(enron_sim)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3964989</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transitivity</span>(<span class="fu">sample_degseq</span>(<span class="fu">degree</span>(enron_sim)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2581601</code></pre>
</div>
</div>
<p>It is close. Are they different statistically speaking? In order to test this, we need to generate the distribution of clustering values from the degree-sequence models with the same degree sequence as the enron network. Let’s do it for 1000 realizations</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-88_aea4ec6165aebaa36467a815dc614c8d">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>trans_model <span class="ot">&lt;-</span> <span class="fu">replicate</span>(<span class="dv">1000</span>,<span class="fu">transitivity</span>(<span class="fu">sample_degseq</span>(<span class="fu">degree</span>(enron_sim))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graph-models-7" class="slide level2">
<h2>Graph models</h2>
<p>And now we compare the actual value from the enron network with the distribution of values from the degree-sequence model</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-89_e866eed64a05c41303ab3f126377be07">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x=</span>trans_model)) <span class="sc">+</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">transitivity</span>(enron_sim),<span class="at">linetype=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Taller_1_Intro_igraph_files/figure-revealjs/unnamed-chunk-89-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Assuming the distribution for the degree-sequence is Gaussian, then the p-value of our hypothesis is</p>
<div class="cell" data-layout-align="center" data-hash="Taller_1_Intro_igraph_cache/revealjs/unnamed-chunk-90_3f08eccc9dfce8095c2ccfb8456ffba6">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dnorm</span>(<span class="fu">transitivity</span>(enron_sim),<span class="at">mean=</span><span class="fu">mean</span>(trans_model),<span class="at">sd=</span><span class="fu">sd</span>(trans_model))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p><img src="img/uc3m.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Taller_1_Intro_igraph_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
              // target, if specified
              link.setAttribute("target", "_blank");
              // default icon
              link.classList.add("external");
          }
        }
    });
    </script>
    

</body></html>